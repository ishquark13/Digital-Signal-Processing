/*
 * Lab6_FilterAssembly.h
 *
 *  Created on: Oct 31, 2016
 *      Author: Ish's Master Race PC
 */
#include <DSP28x_Project.h>
#include "OneToOneI2CDriver.h"
#include <DSP2833x_Xintf.h>
#include<DSP2833x_XIntrupt.h>
#include "timer.h"
#include "analogToDigitalConverter.h"
#include "digitalToAnalogConverter.h"
#include "DSP2833x_CpuTimers.h"
#include <DSP2833x_SysCtrl.h>
#include "audioCntrl.h"
#include "Sram.h"
#include "digitalToAnalogConverter.h"
#include "hammingWindow.h"

#ifndef LAB6_FILTERASSEMBLY_H_
#define LAB6_FILTERASSEMBLY_H_
#define CIRCULARBUFFERMAX 64
#define TAPSLPF 38				//change all arrays to the ones in filter builder from MATLAB
#define TAPSHPF 28
#define TAPSBPF 160
 float circularBuffer[300];

float LPFArray[] = {
		-0.006694,
		-0.004396,
		-0.005155,
		-0.005379,
		-0.004821,
		-0.003219,
		-0.000373,
		0.003854,
		0.009493,
		0.016509,
		0.024691,
		0.033761,
		0.043314,
		0.052876,
		0.061928,
		0.069945,
		0.076443,
		0.081023,
		0.083388,
		0.083388,
		0.081023,
		0.076443,
		0.069945,
		0.061928,
		0.052876,
		0.043314,
		0.033761,
		0.024691,
		0.016509,
		0.009493,
		0.003854,
		-0.000373,
		-0.003219,
		-0.004821,
		-0.005379,
		-0.005155,
		-0.004396,
		-0.006694};

float HPFArray[] = {
		-0.0479639820732092,
		0.0129794775534695,
		0.0170671070587000,
		0.0222383658551426,
		0.0259827707896720,
		0.0255631804786344,
		0.0188881147359816,
		0.00493460510262979,
		-0.0163037636130214,
		-0.0432518414484733,
		-0.0729989797156793,
		-0.101970728706653,
		-0.126219050546337,
		-0.142354776197976,
		0.852011390963695,
		-0.142354776197976,
		-0.126219050546337,
		-0.101970728706653,
		-0.0729989797156793,
		-0.0432518414484733,
		-0.0163037636130214,
		0.00493460510262979,
		0.0188881147359816,
		0.0255631804786344,
		0.0259827707896720,
		0.0222383658551426,
		0.0170671070587000,
		0.0129794775534695,
		-0.0479639820732092};

float BPFArray[] = {0.00798012105183658,
		0.00196767992995259,
		0.00219049844531026,
		0.00241639010134931,
		0.00263856687971078,
		0.00285676006224006,
		0.00306488930435805,
		0.00326423094682146,
		0.00344709632934101,
		0.00361216177612001,
		0.00374564538082849,
		0.00384789398727738,
		0.00391185612453058,
		0.00395317904051374,
		0.00392689899373749,
		0.00385682559315105,
		0.00373502528613601,
		0.00354613163519810,
		0.00329693414236480,
		0.00297484232257631,
		0.00258422224047808,
		0.00211839498472640,
		0.00158151717594704,
		0.000967579829080463,0.000280981933850467,-0.000478187296722703,-0.00130010802148164,-0.00219014191228400,-0.00313696282278568,-0.00413192937517582,-0.00517195565428610,-0.00624287483621639,-0.00733829839744072,-0.00844463927719365,-0.00955081270127063,-0.0106423573021051,-0.0117076450753931,-0.0127327050271981,-0.0137029815755800,-0.0146029440118744,-0.0154214061655387,-0.0161444427075606,-0.0167566526832823,-0.0172495359749771,-0.0176087274142592,-0.0178265699074701,-0.0178936246442981,-0.0178026645461269,-0.0175477517144632,-0.0171253388243203,-0.0165343454357570,-0.0157732077433538,-0.0148438628095767,-0.0137504532917932,-0.0124994364078024,-0.0110962566613730,-0.00955288978065314,-0.00787838919860091,-0.00608708619802821,-0.00419343056398838,-0.00221289901673831,-0.000162665340344205,0.00193910405773474,0.00407228293231474,0.00621836776450905,0.00835702349426307,0.0104676049851028,0.0125296147457404,0.0145238778190747,0.0164299820956351,0.0182299819517749,0.0199060023742479,0.0214403360080317,0.0228189853354546,0.0240274023231811,0.0250541883588446,0.0258875234780944,0.0265203871485025,0.0269460217836689,0.0271598341278188,0.0271598341278188,0.0269460217836689,0.0265203871485025,0.0258875234780944,0.0250541883588446,0.0240274023231811,0.0228189853354546,0.0214403360080317,0.0199060023742479,0.0182299819517749,0.0164299820956351,0.0145238778190747,0.0125296147457404,0.0104676049851028,0.00835702349426307,0.00621836776450905,0.00407228293231474,0.00193910405773474,-0.000162665340344205,-0.00221289901673831,-0.00419343056398838,-0.00608708619802821,-0.00787838919860091,-0.00955288978065314,-0.0110962566613730,-0.0124994364078024,-0.0137504532917932,-0.0148438628095767,-0.0157732077433538,-0.0165343454357570,-0.0171253388243203,-0.0175477517144632,-0.0178026645461269,-0.0178936246442981,-0.0178265699074701,-0.0176087274142592,-0.0172495359749771,-0.0167566526832823,-0.0161444427075606,-0.0154214061655387,-0.0146029440118744,-0.0137029815755800,-0.0127327050271981,-0.0117076450753931,-0.0106423573021051,-0.00955081270127063,-0.00844463927719365,-0.00733829839744072,-0.00624287483621639,-0.00517195565428610,-0.00413192937517582,-0.00313696282278568,-0.00219014191228400,-0.00130010802148164,-0.000478187296722703,0.000280981933850467,0.000967579829080463,0.00158151717594704,0.00211839498472640,0.00258422224047808,0.00297484232257631,0.00329693414236480,0.00354613163519810,0.00373502528613601,0.00385682559315105,0.00392689899373749,0.00395317904051374,0.00391185612453058,0.00384789398727738,0.00374564538082849,0.00361216177612001,0.00344709632934101,0.00326423094682146,0.00306488930435805,0.00285676006224006,0.00263856687971078,0.00241639010134931,0.00219049844531026,0.00196767992995259,0.00798012105183658
};

float BPF [] = {
		0.007574,
		0.001101,
		0.001178,
		0.001255,
		0.001334,
		0.001413,
		0.001492,
		0.001570,
		0.001648,
		0.001724,
		0.001799,
		0.001871,
		0.001941,
		0.002007,
		0.002070,
		0.002128,
		0.002182,
		0.002230,
		0.002272,
		0.002306,
		0.002332,
		0.002348,
		0.002356,
		0.002353,
		0.002341,
		0.002318,
		0.002285,
		0.002237,
		0.002175,
		0.002090,
		0.002002,
		0.001906,
		0.001775,
		0.001643,
		0.001487,
		0.001320,
		0.001132,
		0.000931,
		0.000710,
		0.000475,
		0.000222,
		-0.000045,
		-0.000329,
		-0.000627,
		-0.000940,
		-0.001267,
		-0.001607,
		-0.001959,
		-0.002323,
		-0.002696,
		-0.003079,
		-0.003468,
		-0.003864,
		-0.004264,
		-0.004669,
		-0.005075,
		-0.005482,
		-0.005885,
		-0.006285,
		-0.006680,
		-0.007072,
		-0.007449,
		-0.007817,
		-0.008174,
		-0.008514,
		-0.008840,
		-0.009146,
		-0.009432,
		-0.009696,
		-0.009936,
		-0.010151,
		-0.010339,
		-0.010498,
		-0.010628,
		-0.010726,
		-0.010792,
		-0.010824,
		-0.010821,
		-0.010783,
		-0.010709,
		-0.010598,
		-0.010451,
		-0.010265,
		-0.010042,
		-0.009781,
		-0.009483,
		-0.009148,
		-0.008777,
		-0.008369,
		-0.007926,
		-0.007449,
		-0.006941,
		-0.006398,
		-0.005827,
		-0.005226,
		-0.004598,
		-0.003945,
		-0.003269,
		-0.002571,
		-0.001855,
		-0.001121,
		-0.000373,
		0.000387,
		0.001158,
		0.001935,
		0.002716,
		0.003499,
		0.004282,
		0.005060,
		0.005833,
		0.006597,
		0.007349,
		0.008086,
		0.008807,
		0.009508,
		0.010187,
		0.010842,
		0.011470,
		0.012068,
		0.012636,
		0.013170,
		0.013670,
		0.014131,
		0.014555,
		0.014937,
		0.015279,
		0.015577,
		0.015832,
		0.016041,
		0.016205,
		0.016322,
		0.016393,
		0.016416,
		0.016393,
		0.016322,
		0.016205,
		0.016041,
		0.015832,
		0.015577,
		0.015279,
		0.014937,
		0.014555,
		0.014131,
		0.013670,
		0.013170,
		0.012636,
		0.012068,
		0.011470,
		0.010842,
		0.010187,
		0.009508,
		0.008807,
		0.008086,
		0.007349,
		0.006597,
		0.005833,
		0.005060,
		0.004282,
		0.003499,
		0.002716,
		0.001935,
		0.001158,
		0.000387,
		-0.000373,
		-0.001121,
		-0.001855,
		-0.002571,
		-0.003269,
		-0.003945,
		-0.004598,
		-0.005226,
		-0.005827,
		-0.006398,
		-0.006941,
		-0.007449,
		-0.007926,
		-0.008369,
		-0.008777,
		-0.009148,
		-0.009483,
		-0.009781,
		-0.010042,
		-0.010265,
		-0.010451,
		-0.010598,
		-0.010709,
		-0.010783,
		-0.010821,
		-0.010824,
		-0.010792,
		-0.010726,
		-0.010628,
		-0.010498,
		-0.010339,
		-0.010151,
		-0.009936,
		-0.009696,
		-0.009432,
		-0.009146,
		-0.008840,
		-0.008514,
		-0.008174,
		-0.007817,
		-0.007449,
		-0.007072,
		-0.006680,
		-0.006285,
		-0.005885,
		-0.005482,
		-0.005075,
		-0.004669,
		-0.004264,
		-0.003864,
		-0.003468,
		-0.003079,
		-0.002696,
		-0.002323,
		-0.001959,
		-0.001607,
		-0.001267,
		-0.000940,
		-0.000627,
		-0.000329,
		-0.000045,
		0.000222,
		0.000475,
		0.000710,
		0.000931,
		0.001132,
		0.001320,
		0.001487,
		0.001643,
		0.001775,
		0.001906,
		0.002002,
		0.002090,
		0.002175,
		0.002237,
		0.002285,
		0.002318,
		0.002341,
		0.002353,
		0.002356,
		0.002348,
		0.002332,
		0.002306,
		0.002272,
		0.002230,
		0.002182,
		0.002128,
		0.002070,
		0.002007,
		0.001941,
		0.001871,
		0.001799,
		0.001724,
		0.001648,
		0.001570,
		0.001492,
		0.001413,
		0.001334,
		0.001255,
		0.001178,
		0.001101,
		0.007574};


//typedef struct
//{
//	Uint16 iterator;
//	Uint16 circularBufferMax;
//	Uint16 TapsMax;
//	float* circularBuffer; //try a small number a-mode 0
//	float* coefficientsOfTaps;
//	//change the above to match the type of filter
//}FIRFilter;


extern float FirFilter(float*circularBuffer, float* coefficientsOfTaps, Uint16 iterator, Uint16 numTaps );
//extern float FirFilter(FIRFilter* a);
// a --> attribute of struct
extern int16 iterator;


#endif /* LAB6_FILTERASSEMBLY_H_ */
